(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{346:function(e,t,n){e.exports=n(776)},776:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n(203),i=n.n(c),l=n(320),u=n(151),s=n(118),f=n(322),m=n.n(f),d=(n(657),n(658),n(659),n(660),n(661),n(4)),p=n.n(d),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"china",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{name:"\u5b89\u5fbd",value:1e3}],n={tooltip:{show:!0,formatter:function(t,n,a){return"".concat("china"==e?"\u7701\u4efd":"\u5730\u533a",": ").concat(t.name,"<br/> \u7d2f\u8ba1\u786e\u8bca\uff1a").concat(t.value||0)}},visualMap:{min:0,max:1e3,left:26,bottom:40,showLabel:!0,text:["\u9ad8","\u4f4e"],pieces:[{gt:1e3,label:"> 1000 \u4eba",color:"#7f1100"},{gte:100,lte:1e3,label:"> 100 \u4eba",color:"red"},{gte:10,lte:100,label:"10 - 100 \u4eba",color:"#ff5428"},{gte:1,lt:10,label:"1 - 9 \u4eba",color:"#ff8c71"},{gt:0,lt:1,label:"\u7591\u4f3c",color:"#ffd768"},{value:0,color:"#ffffff"}],show:!0},geo:{map:e,roam:!1,scaleLimit:{min:1,max:2},zoom:1.23,top:120,label:{normal:{show:!0,fontSize:"14",color:"rgba(0,0,0,0.7)"}},itemStyle:{normal:{borderColor:"rgba(0, 0, 0, 0.2)"},emphasis:{areaColor:"#f2d5ad",shadowOffsetX:0,shadowOffsetY:0,borderWidth:0}}},series:[{left:"center",name:"\u786e\u8bca\u75c5\u4f8b",type:"map",geoIndex:0,data:t}]};return n},b=n(204),g=n.n(b);g.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var h=n(777);var y=[{title:"\u5730\u533a",dataIndex:"name",key:"name"},{title:"\u786e\u8bca",dataIndex:"confirmedCount",key:"confirmedCount"},{title:"\u6b7b\u4ea1",dataIndex:"deadCount",key:"deadCount"},{title:"\u6cbb\u6108",dataIndex:"curedCount",key:"curedCount"}];var w=function(e){return r.a.createElement(h.a,{columns:y,pagination:!1,dataSource:e.data,rowKey:function(e){return e.name},expandable:{expandedRowRender:function(e){return function(e){if(e.cities){var t=e.cities.map((function(e){return Object(s.a)({name:"".concat(e.cityName,"\u5e02"),value:e.confirmedCount},e)})),n=JSON.parse(JSON.stringify(y)).map((function(e){return delete e.title,e}));return console.log(n),r.a.createElement(h.a,{columns:n,pagination:!1,dataSource:t,rowKey:function(e){return e.name}})}}(e)}}})};function x(e,t){console.log(e,t);var n,a=t.filter((function(t){return t.provinceShortName===e}));return console.log(a[0].cities),n=a[0].cities.map((function(e){return Object(s.a)({name:"".concat(e.cityName,"\u5e02"),value:e.confirmedCount},e)})),console.log(n),n}var O=function(){var e=[function(e,t){localStorage.setItem(e,JSON.stringify(t))},function(e){return JSON.parse(localStorage.getItem(e))}],t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),f=Object(u.a)(c,2),d=f[0],b=f[1],h=Object(a.useState)("china"),y=Object(u.a)(h,2),O=y[0],j=y[1];Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o("virusdata")){e.next=7;break}return e.next=3,g.a.get("http://api.tianapi.com/txapi/ncovcity/index?key=".concat("64000257e473c650789293ce3b4c15df"));case 3:t=e.sent,n("virusdata",t),e.next=8;break;case 7:t=o("virusdata");case 8:"china"!==O?(console.log(O),a=x(O,t.newslist),b(a)):(c=t.newslist,r=c.map((function(e){return Object(s.a)({name:e.provinceShortName,value:e.confirmedCount},e)})),b(r));case 9:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O]);var E={click:function(e){console.log(e),j(e.name)}};return console.log(d),r.a.createElement("div",null,"\u8fd9\u662f\u5730\u56fe\u7ec4\u4ef6",r.a.createElement(m.a,{option:v(O,d),echars:p.a,lazyUpdate:!0,onEvents:E}),r.a.createElement(w,{data:d}))},j=n(778),E=j.a.TabPane,S=[{title:"\u75ab\u60c5\u5730\u56fe"},{title:"\u6700\u65b0\u6d88\u606f"},{title:"\u8f9f\u8c23\u4fe1\u606f"},{title:"\u75ab\u60c5\u8d8b\u52bf"}];var k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{defaultActiveKey:"1"},S.map((function(e,t){return r.a.createElement(E,{tab:"".concat(e.title),key:t},e.title)}))))};n(775);Object(o.render)(r.a.createElement((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(O,null))}),null),window.root)}},[[346,1,2]]]);
//# sourceMappingURL=main.78fd35da.chunk.js.map